# Документ Требований к Продукту (PRD) "{Project Name}"

## Цель, Задачи и Контекст

Эта часть должна в основном исходить от пользователя или предоставленного брифа, но при необходимости запрашивайте уточнения.

## Функциональные Требования (MVP)

К этому моменту у вас должно быть хорошее представление, но уточняйте, предлагайте вопросы и объясняйте, чтобы убедиться в их корректности. Учитывайте специфику мобильного приложения Flutter.

## Нефункциональные Требования (MVP)

К этому моменту у вас должно быть хорошее представление, но уточняйте, предлагайте вопросы и объясняйте, чтобы убедиться в их корректности. Учитывайте производительность, безопасность и доступность для мобильных платформ.

## Пользовательское Взаимодействие и Дизайн-Цели

{Если продукт включает Пользовательский Интерфейс (UI), этот раздел описывает высокоуровневое видение и цели менеджера продукта для Пользовательского Опыта (UX). Эта информация послужит важной отправной точкой и брифом для Дизайн-Архитектора.

Рассмотрите и получите от пользователя информацию относительно:

- **Общее Видение и Опыт:** Какой желаемый внешний вид и ощущение (например, "современный и минималистичный Material Design 3", "дружелюбный и доступный", "информативный и профессиональный")? Какой опыт должны получить пользователи?
- **Ключевые Парадигмы Взаимодействия:** Существуют ли специфические способы взаимодействия пользователей с ключевыми функциями (например, "интерфейс перетаскивания для X", "мастер настройки для Y", "дашборд в реальном времени для Z")? Как это реализуется в мобильном контексте Flutter?
- **Основные Экраны/Виды (Концептуально):** С продуктовой точки зрения, какие наиболее критичные экраны или виды необходимы для предоставления ценности MVP? (например, "Экран Входа", "Основной Дашборд", "Страница Деталей Элемента", "Страница Настроек").
- **Стремления к Доступности (AX):** Любые известные высокоуровневые цели доступности (например, "должно быть пригодно для использования пользователями скрин-ридеров", "поддержка динамического размера шрифта"). Учитывайте специфику доступности в Flutter.
- **Вопросы Брендинга (Высокоуровневые):** Любые известные элементы брендинга или руководства по стилю, которые должны быть включены? Как они соотносятся с Material Design 3 или Cupertino?
- **Целевые Устройства/Платформы:** (например, "мобильное приложение для iOS и Android", "с приоритетом на iOS", "также поддержка Web и Desktop"). Укажите конкретные версии ОС или минимальные требования.

Этот раздел не предназначен быть детальной спецификацией UI, а скорее продуктовым брифом для руководства последующей детальной работой Дизайн-Архитектора, который создаст всеобъемлющий документ Спецификации UI/UX.}

## Технические Предположения

Здесь мы можем перечислить информацию, которая в основном будет использоваться архитектором для создания технических деталей. Это может быть все, что мы уже знаем или выяснили от пользователя на высокоуровневом техническом уровне. Запросите эту информацию у пользователя, чтобы получить базовое представление о языках, фреймворках, знаниях о стартовых шаблонах, библиотеках, внешних API, потенциальном выборе библиотек и т.д.

- **Архитектура Репозитория и Сервисов:** {КРИТИЧЕСКОЕ РЕШЕНИЕ: Документируйте выбранную структуру репозитория (например, Monorepo, Polyrepo) и высокоуровневую архитектуру сервисов (например, Монолит, Микросервисы, Serverless функции в Monorepo). Объясните обоснование, исходя из целей проекта, объема MVP, структуры команды и потребностей масштабирования. Это решение напрямую влияет на технический подход и информирует Агента-Архитектора.}
- **Стек Технологий для Фронтенда (Flutter):** {Укажите, что фронтенд разрабатывается на Flutter. Перечислите ключевые библиотеки и подходы: BLoC для управления состоянием, GoRouter для навигации, GetIt для DI, интеграция с Supabase (Auth, Database, Storage, Functions) и Firebase (Analytics, Crashlytics, Push Notifications).}

### Требования к Тестированию

Как мы будем валидировать функциональность помимо юнит-тестирования? Потребуются ли ручные сценарии или тестирование, E2E, интеграционное и т.д.? Выясните это у пользователя, чтобы заполнить этот раздел. Учитывайте специфику тестирования Flutter-приложений (виджет-тесты, интеграционные тесты).

## Обзор Эпиков

- **Эпик {#}: {Название}**
  - Цель: {Краткое изложение цели и ценности этого Эпика в 1-2 предложениях.}
  - История {#}: Как {тип пользователя/система}, я хочу {выполнить действие / достичь цели}, чтобы {получить выгоду / иметь причину}.
    - {Список Критериев Приемки}
  - История {#}: Как {тип пользователя/система}, я хочу {выполнить действие / достичь цели}, чтобы {получить выгоду / иметь причину}.
    - {Список Критериев Приемки}
- **Эпик {#}: {Название}**
  - Цель: {Краткое изложение цели и ценности этого Эпика в 1-2 предложениях.}
  - История {#}: Как {тип пользователя/система}, я хочу {выполнить действие / достичь цели}, чтобы {получить выгоду / иметь причину}.
    - {Список Критериев Приемки}
  - История {#}: Как {тип пользователя/система}, я хочу {выполнить действие / достичь цели}, чтобы {получить выгоду / иметь причину}.
    - {Список Критериев Приемки}

## Ключевые Ссылочные Документы

{Этот раздел будет создан позже из разделов до него, которые были разделены на более мелкие документы.}

## Идеи, Выходящие за Рамки MVP

Все, относительно чего вы и пользователь согласились, что выходит за рамки или может быть удалено из объема, чтобы сохранить MVP компактным. Рассмотрите цели PRD и что может быть лишним улучшением или дополнительными функциями, которые могут подождать до завершения и поставки MVP для оценки функциональности, соответствия рынку или использования.

## [ОПЦИОНАЛЬНО: Только для Упрощенного Рабочего Процесса PM-Разработка] Основные Технические Решения и Структура Приложения

{Этот раздел заполняется ТОЛЬКО если PM работает в режиме 'Упрощенного Рабочего Процесса PM-Разработка'. Он фиксирует основные технические основы, которые обычно определяются Архитектором, позволяя более прямой путь к разработке. Эта информация должна быть собрана после составления начальных разделов PRD (Цели, Пользователи и т.д.) и, в идеале, до или параллельно с детальным определением Эпиков/Историй, и обновляться по мере необходимости.}

### Выбор Технологического Стека

{Совместно определите основные технологии. Будьте конкретны в выборе и версиях, где это уместно.}

- **Основной Язык/Фреймворк Фронтенда:** {Flutter (Dart) с указанием версии.}
- **Библиотеки Управления Состоянием:** {BLoC (flutter_bloc).}
- **Библиотеки Навигации:** {GoRouter.}
- **Библиотеки Внедрения Зависимостей:** {GetIt (get_it) и, возможно, injectable.}
- **Интеграция с Сервисами:** {Supabase (supabase-flutter), Firebase (firebase_core, firebase_analytics, firebase_crashlytics, firebase_messaging и т.д.). Укажите конкретные используемые модули.}
- **Тестирование:** {flutter_test, integration_test, mocktail/mockito.}
- **UI/UX:** {Material Design 3, Cupertino (при необходимости).}
- **Развертывание/Сборка:** {Сборка Flutter для iOS (Xcode), Android (Gradle), Web, Desktop.}

### Предлагаемая Структура Приложения

{Опишите высокоуровневую организацию кодовой базы. Это может включать простое текстовое представление структуры каталогов, список основных модулей/компонентов и краткое объяснение их взаимодействия. Цель - предоставить четкую отправную точку для разработчиков.}

Пример (с учетом Clean Architecture и feature-based):

```
lib/
  core/         # Общие утилиты, темы, константы, DI-конфигурация
    constants/
    theme/
    utils/
    widgets/
    di/       # Конфигурация GetIt
  features/     # Функциональные модули (каждый - отдельная фича)
    feature_name/ # Например, auth, products, profile
      data/     # Источники данных, модели, репозитории (реализации)
        datasources/
        models/
        repositories/
      domain/   # Бизнес-логика (сущности, репозитории (интерфейсы), usecases)
        entities/
        repositories/
        usecases/
      presentation/ # UI-слой (Blocs, Pages, Widgets)
        bloc/
        pages/
        widgets/
  l10n/         # Локализация
  main.dart     # Точка входа

test/
  unit/
  widget/
  integration/

assets/
  images/
  icons/
  ... # Другие ассеты

```

- **Структура Проекта:** {Явно укажите, что используется feature-based структура с Clean Architecture.}
- **Ключевые Модули/Компоненты и Обязанности:**
  - `core/`: {Общие компоненты, утилиты, темы, конфигурация DI.}
  - `features/`: {Инкапсулирует всю логику и UI для конкретной функции (аутентификация, продукты и т.д.). Следует структуре Domain/Data/Presentation.}
  - `l10n/`: {Файлы локализации.}
  - `main.dart`: {Настройка приложения, маршрутизации (GoRouter), инициализация DI (GetIt).}
- **Обзор Потока Данных (Концептуально):** {Кратко опишите, как данные проходят через слои Clean Architecture: UI (Widgets/Pages) отправляют события в Bloc, Bloc использует Use Cases (Domain), Use Cases используют Репозитории (Domain), Репозитории (Domain) вызывают реализации Репозиториев (Data), Реализации Репозиториев (Data) взаимодействуют с Источниками Данных (Data) (Supabase/Firebase/API/Local DB). Ответный поток данных идет в обратном порядке. }

## Журнал Изменений

| Изменение | Дата | Версия | Описание | Автор |
| --------- | ---- | ------ | --------- | ----- |

----- КОНЕЦ PRD НАЧАЛО ВЫВОДА ЧЕК-ЛИСТА ------

## Отчет о Результатах Чек-листа

----- КОНЕЦ Чек-листа НАЧАЛО Промпта Дизайн-Архитектора в Режиме Спецификации UI/UX ------

----- КОНЕЦ Промпта Дизайн-Архитектора в Режиме Спецификации UI/UX НАЧАЛО Промпта Архитектора ------

## Начальный Промпт Архитектора

Основываясь на наших обсуждениях и анализе требований для {Product Name}, я собрал следующее техническое руководство для информирования вашего архитектурного анализа и принятия решений для начала Режима Создания Архитектуры:

### Техническая Инфраструктура

- **Решение по Архитектуре Репозитория и Сервисов:** {Повторите решение, принятое в 'Технических Предположениях', например, Monorepo с Flutter-приложением и Serverless функциями Supabase в одном репозитории; или Polyrepo с отдельными репозиториями для Flutter-приложения и Backend API на Node.js.}
- **Стартовый Проект/Шаблон:** {Информация о любых стартовых проектах, шаблонах или существующей кодовой базе, которые должны быть использованы (например, шаблон Clean Architecture для Flutter).}
- **Платформа Хостинга/Облачный Провайдер:** {Указанная облачная платформа (AWS, Azure, GCP и т.д.) или требования к хостингу (например, Supabase, Firebase Hosting).}
- **Платформа Фронтенда:** {Явно укажите: Flutter (Dart).}
- **Платформа Бэкенда (если применимо):** {Фреймворк/язык или сервис, например, Serverless Functions (Supabase/Firebase), Node.js/Express, Python/FastAPI. Укажите, если бэкенд полностью управляется Supabase/Firebase.}
- **Требования к Базе Данных:** {Тип БД (реляционная, NoSQL), предпочтительные продукты или сервисы (например, PostgreSQL через Supabase, Firestore через Firebase).}
- **Ключевые Интеграции:** {Supabase (Auth, Database, Storage, Edge Functions), Firebase (Analytics, Crashlytics, Messaging и т.д.), любые сторонние API.}

### Технические Ограничения

- {Перечислите любые технические ограничения, влияющие на архитектурные решения (например, необходимость оффлайн-работы, специфические требования к производительности на старых устройствах).}
- {Включите любые обязательные технологии, сервисы или платформы.}
- {Отметьте любые требования к интеграции со специфическими техническими последствиями.}

### Вопросы Развертывания

- {Ожидания по частоте развертывания (например, через App Store/Google Play, CI/CD для Web/Desktop).}
- {Требования к CI/CD (например, автоматизированная сборка и тестирование при пуше в основную ветку).}
- {Требования к окружениям (локальное, dev, staging, production). Учитывайте специфику сборки для разных платформ.}

### Требования к Локальной Разработке и Тестированию

{Включите этот раздел только если пользователь указал, что эти возможности важны. Если не применимо на основе предпочтений пользователя, вы можете удалить этот раздел.}

- {Требования к локальному окружению разработки (например, установка Flutter SDK, настройка Android Studio/VS Code, эмуляторы/симуляторы).}
- {Ожидания по возможностям тестирования из командной строки (например, `flutter test`, `flutter drive`).}
- {Потребности в тестировании на разных платформах/устройствах.}
- {Утилиты или скрипты, которые должны быть предоставлены (например, для запуска тестов, генерации кода).}
- {Любые специфические требования к тестируемости компонентов (виджетов, блоков, usecase-ов).}

### Другие Технические Вопросы

- {Требования безопасности с техническими последствиями (например, безопасное хранение ключей API, защита от реверс-инжиниринга для мобильных приложений).}
- {Потребности в масштабировании с архитектурным влиянием (например, как Supabase/Firebase справятся с ожидаемой нагрузкой).}
- {Любой другой технический контекст, который Архитектор должен рассмотреть. Укажите специфику работы с платформенным кодом (Platform Channels), если это требуется. }

----- КОНЕЦ Промпта Архитектора -----
