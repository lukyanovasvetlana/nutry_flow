# –û—Ç—á–µ—Ç –æ–± –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¢–µ–º–Ω–æ–π –¢–µ–º—ã - NutryFlow

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç—É–º–±–ª–µ—Ä–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è –∏–∑–º–µ–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∞ –Ω–µ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ü–µ–ª–∏–∫–æ–º.

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Ç–µ–º—É –≤ `main.dart`
- `ThemeTokens.toggleTheme()` –∏–∑–º–µ–Ω—è–ª —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ç–µ–º
- –ù–µ –±—ã–ª–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Flutter's Theme system

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ç–µ–º

**–§–∞–π–ª**: `lib/shared/theme/theme_manager.dart`

#### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π** —á–µ—Ä–µ–∑ ChangeNotifier
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –≤ SharedPreferences
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flutter Theme** system
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI** –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã

#### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
```dart
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
Future<void> toggleTheme() async

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ–º—ã
Future<void> setTheme(ThemeMode theme) async

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
ThemeMode get currentTheme

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
bool get isDarkMode
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω main.dart

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `ListenableBuilder` –¥–ª—è —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ThemeManager().lightTheme` –∏ `ThemeManager().darkTheme`
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ `themeMode`
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ç–µ–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

#### –ö–æ–¥:
```dart
return ListenableBuilder(
  listenable: ThemeManager(),
  builder: (context, child) {
    return MaterialApp(
      title: 'NutryFlow',
      theme: ThemeManager().lightTheme,
      darkTheme: ThemeManager().darkTheme,
      themeMode: ThemeManager().currentTheme,
      // ...
    );
  },
);
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω app.dart

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `ListenableBuilder` –¥–ª—è AppContainer
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Theme.of(context)` –¥–ª—è —Ü–≤–µ—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –≤ AppBar
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

#### –ö–æ–¥:
```dart
actions: [
  IconButton(
    icon: Icon(
      ThemeManager().themeIcon,
      color: Theme.of(context).appBarTheme.foregroundColor,
    ),
    onPressed: () async {
      await ThemeManager().toggleTheme();
    },
  ),
],
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω ProfileSettingsScreen

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ThemeManager()` –≤–º–µ—Å—Ç–æ `ThemeTokens`
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

#### –ö–æ–¥:
```dart
onChanged: (value) async {
  setState(() {
    _isDarkMode = value;
  });
  
  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã —á–µ—Ä–µ–∑ ThemeManager
  await ThemeManager().toggleTheme();
  
  // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(
      content: Text(
        '–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ ${_isDarkMode ? '—Ç–µ–º–Ω—É—é' : '—Å–≤–µ—Ç–ª—É—é'}',
        style: TextStyle(color: context.onPrimary),
      ),
      backgroundColor: context.primary,
      duration: Duration(seconds: 2),
    ),
  );
},
```

### 5. –°–æ–∑–¥–∞–Ω –¥–µ–º–æ —ç–∫—Ä–∞–Ω

**–§–∞–π–ª**: `lib/screens/theme_demo_screen.dart`

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** —Ç–µ–º—ã
- ‚úÖ **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–≤–µ—Ç–∞—Ö** —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏

## üé® –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã

### –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞:
- **Background**: `#F9F4F2`
- **Surface**: `#FFFFFF`
- **Primary**: `#4CAF50`
- **On Surface**: `#2D3748`
- **On Surface Variant**: `#718096`

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞:
- **Background**: `#121212`
- **Surface**: `#1E1E1E`
- **Primary**: `#81C784`
- **On Surface**: `#FFFFFF`
- **On Surface Variant**: `#9CA3AF`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
flutter run

# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ —ç–∫—Ä–∞–Ω–∞ —Ç–µ–º—ã
flutter run --target lib/screens/theme_demo_screen.dart

# –ó–∞–ø—É—Å–∫ —ç–∫—Ä–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
flutter run --target lib/features/profile/presentation/screens/profile_settings_screen.dart
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- [ ] –í—Å–µ —ç–∫—Ä–∞–Ω—ã –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ç–µ–º–µ
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö

## üì± –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –¢–µ–º–∞ –∏–∑–º–µ–Ω—è–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å
- ‚ùå –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã** –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –≤ SharedPreferences
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI** –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞** –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è** –≤ AppBar

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
ThemeManager (Singleton)
‚îú‚îÄ‚îÄ ChangeNotifier
‚îú‚îÄ‚îÄ SharedPreferences
‚îú‚îÄ‚îÄ ThemeData (light/dark)
‚îî‚îÄ‚îÄ ListenableBuilder
    ‚îú‚îÄ‚îÄ MaterialApp
    ‚îú‚îÄ‚îÄ AppContainer
    ‚îî‚îÄ‚îÄ ProfileSettingsScreen
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
1. **ThemeManager** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç–µ–º—ã
2. **ListenableBuilder** —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **MaterialApp** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ç–µ–º—É
4. **–í—Å–µ —ç–∫—Ä–∞–Ω—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ç–µ–º
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
```dart
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
await ThemeManager().toggleTheme();

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ–º—ã
await ThemeManager().setTheme(ThemeMode.dark);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
bool isDark = ThemeManager().isDarkMode;
```

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
2. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–¢—ë–º–Ω–∞—è —Ç–µ–º–∞"
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ç—É–º–±–ª–µ—Ä
4. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
- **Tech Lead**: [tech.lead@company.com]
- **Slack**: #nutryflow-dev
- **GitHub Issues**: –°–æ–∑–¥–∞–π—Ç–µ issue —Å —Ç–µ–≥–æ–º `theme`

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: [CURRENT_DATE]  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–°–ª–µ–¥—É—é—â–∏–π –æ–±–∑–æ—Ä**: [NEXT_REVIEW_DATE]
