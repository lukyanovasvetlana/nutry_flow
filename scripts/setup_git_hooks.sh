#!/bin/bash

# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Git hooks Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ ÐºÐ¾Ð´Ð°
# ÐÐ²Ñ‚Ð¾Ñ€: AI Assistant
# Ð”Ð°Ñ‚Ð°: $(date)

echo "ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Git hooks Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ ÐºÐ¾Ð´Ð°..."
echo "=========================================================="

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
log() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ð² ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
if [ ! -f "pubspec.yaml" ]; then
    error "Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸Ð· ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°"
    exit 1
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Git Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
if [ ! -d ".git" ]; then
    error "Git Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½. Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Git:"
    echo "  git init"
    echo "  git add ."
    echo "  git commit -m 'Initial commit'"
    exit 1
fi

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ hooks ÐµÑÐ»Ð¸ ÐµÑ‘ Ð½ÐµÑ‚
HOOKS_DIR=".git/hooks"
if [ ! -d "$HOOKS_DIR" ]; then
    mkdir -p "$HOOKS_DIR"
    log "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ $HOOKS_DIR"
fi

# Ð¨Ð°Ð³ 1: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° pre-commit Ñ…ÑƒÐºÐ°
log "Ð¨Ð°Ð³ 1: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° pre-commit Ñ…ÑƒÐºÐ°..."
PRE_COMMIT_HOOK="$HOOKS_DIR/pre-commit"

if [ -f "scripts/pre-commit" ]; then
    cp "scripts/pre-commit" "$PRE_COMMIT_HOOK"
    chmod +x "$PRE_COMMIT_HOOK"
    log "Pre-commit Ñ…ÑƒÐº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"
else
    error "Ð¤Ð°Ð¹Ð» scripts/pre-commit Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½"
    exit 1
fi

# Ð¨Ð°Ð³ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° pre-push Ñ…ÑƒÐºÐ°
log "Ð¨Ð°Ð³ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° pre-push Ñ…ÑƒÐºÐ°..."
PRE_PUSH_HOOK="$HOOKS_DIR/pre-push"

cat > "$PRE_PUSH_HOOK" << 'EOF'
#!/bin/bash

# Pre-push Ñ…ÑƒÐº Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð° Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹
# ÐÐ²Ñ‚Ð¾Ñ€: AI Assistant

echo "ðŸ” Pre-push: Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð°..."

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log() {
    echo -e "${GREEN}[PRE-PUSH]${NC} $1"
}

warn() {
    echo -e "${YELLOW}[PRE-PUSH]${NC} $1"
}

error() {
    echo -e "${RED}[PRE-PUSH]${NC} $1"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ð² ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
if [ ! -f "pubspec.yaml" ]; then
    error "Pre-push Ñ…ÑƒÐº Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸Ð· ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°"
    exit 1
fi

# ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð°
log "ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð°..."
ANALYSIS_OUTPUT=$(flutter analyze --no-fatal-infos 2>&1)
ISSUES_COUNT=$(echo "$ANALYSIS_OUTPUT" | grep -c "issues found" || echo "0")

if [ "$ISSUES_COUNT" -gt 0 ]; then
    warn "ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ $ISSUES_COUNT Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð² ÐºÐ¾Ð´Ðµ"
    
    # ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹
    CRITICAL_ISSUES=$(echo "$ANALYSIS_OUTPUT" | grep -E "(error|unused_import|unused_element|unused_field)" | head -10)
    if [ ! -z "$CRITICAL_ISSUES" ]; then
        echo ""
        warn "ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:"
        echo "$CRITICAL_ISSUES"
        echo ""
        
        # Ð¡Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ, Ñ…Ð¾Ñ‡ÐµÑ‚ Ð»Ð¸ Ð¾Ð½ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ
        read -p "ÐÐ°Ð¹Ð´ÐµÐ½Ñ‹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹. ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ push? (y/N): " -n 1 -r
        echo
        if [[ ! $REPLY =~ ^[Yy]$ ]]; then
            error "Push Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½. Ð˜ÑÐ¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°."
            exit 1
        fi
    fi
else
    log "ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼ Ð² ÐºÐ¾Ð´Ðµ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾"
fi

# Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²
log "Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²..."
flutter test --no-pub --reporter=compact
if [ $? -ne 0 ]; then
    error "Ð¢ÐµÑÑ‚Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾ÑˆÐ»Ð¸. Push Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½."
    exit 1
fi

log "Pre-push Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾! âœ…"
exit 0
EOF

chmod +x "$PRE_PUSH_HOOK"
log "Pre-push Ñ…ÑƒÐº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"

# Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° commit-msg Ñ…ÑƒÐºÐ°
log "Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° commit-msg Ñ…ÑƒÐºÐ°..."
COMMIT_MSG_HOOK="$HOOKS_DIR/commit-msg"

cat > "$COMMIT_MSG_HOOK" << 'EOF'
#!/bin/bash

# Commit-msg Ñ…ÑƒÐº Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
# ÐÐ²Ñ‚Ð¾Ñ€: AI Assistant

COMMIT_MSG_FILE="$1"
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log() {
    echo -e "${GREEN}[COMMIT-MSG]${NC} $1"
}

warn() {
    echo -e "${YELLOW}[COMMIT-MSG]${NC} $1"
}

error() {
    echo -e "${RED}[COMMIT-MSG]${NC} $1"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð´Ð»Ð¸Ð½Ñƒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
if [ ${#COMMIT_MSG} -gt 72 ]; then
    warn "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð° ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ð¾Ðµ (${#COMMIT_MSG} ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)"
    warn "Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð½Ðµ Ð±Ð¾Ð»ÐµÐµ 72 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
if [[ ! "$COMMIT_MSG" =~ ^(feat|fix|docs|style|refactor|test|chore|ci|build|perf|revert)(\(.+\))?: ]]; then
    warn "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð° Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ conventional commits Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñƒ"
    warn "ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹: feat: add new feature, fix: resolve bug, docs: update documentation"
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ
if [[ ! "$COMMIT_MSG" =~ $'\n' ]]; then
    warn "Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð° Ð¿Ð¾ÑÐ»Ðµ Ð¿ÑƒÑÑ‚Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸"
fi

log "Commit-msg Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°"
exit 0
EOF

chmod +x "$COMMIT_MSG_HOOK"
log "Commit-msg Ñ…ÑƒÐº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"

# Ð¨Ð°Ð³ 4: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° post-merge Ñ…ÑƒÐºÐ°
log "Ð¨Ð°Ð³ 4: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° post-merge Ñ…ÑƒÐºÐ°..."
POST_MERGE_HOOK="$HOOKS_DIR/post-merge"

cat > "$POST_MERGE_HOOK" << 'EOF'
#!/bin/bash

# Post-merge Ñ…ÑƒÐº Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ
# ÐÐ²Ñ‚Ð¾Ñ€: AI Assistant

echo "ðŸ”„ Post-merge: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ..."

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log() {
    echo -e "${GREEN}[POST-MERGE]${NC} $1"
}

warn() {
    echo -e "${YELLOW}[POST-MERGE]${NC} $1"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ð² ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
if [ ! -f "pubspec.yaml" ]; then
    warn "Post-merge Ñ…ÑƒÐº Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸Ð· ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°"
    exit 0
fi

# ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
log "ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹..."
flutter pub get

# ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð´
log "ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ..."
flutter analyze --no-fatal-infos | head -10

log "Post-merge Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°"
exit 0
EOF

chmod +x "$POST_MERGE_HOOK"
log "Post-merge Ñ…ÑƒÐº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"

# Ð¨Ð°Ð³ 5: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°
log "Ð¨Ð°Ð³ 5: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°..."
CONFIG_FILE=".git-hooks-config"

cat > "$CONFIG_FILE" << 'EOF'
# ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Git hooks Ð´Ð»Ñ NutryFlow
# ÐÐ²Ñ‚Ð¾Ñ€: AI Assistant

# Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ñ…ÑƒÐºÐ¸
ENABLED_HOOKS=(
    "pre-commit"    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð° Ð¿ÐµÑ€ÐµÐ´ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð¼
    "pre-push"      # Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹
    "commit-msg"    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
    "post-merge"    # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ
)

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° ÐºÐ¾Ð´Ð°
ANALYSIS_SETTINGS=(
    "unused_import: error"      # ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð»Ñ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ñ… Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¾Ð²
    "unused_element: error"     # ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð»Ñ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²
    "unused_field: error"       # ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð»Ñ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹
    "unused_local_variable: error" # ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð»Ñ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ñ… Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ…
)

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
TEST_SETTINGS=(
    "run_tests: true"           # Ð—Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ñ‹
    "test_coverage: false"      # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð°Ð¼Ð¸
    "fail_on_test_failure: true" # ÐžÑ‚Ð¼ÐµÐ½ÑÑ‚ÑŒ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¿Ñ€Ð¸ Ð½ÐµÑƒÐ´Ð°Ñ‡Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²
)

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ±Ð¾Ñ€ÐºÐ¸
BUILD_SETTINGS=(
    "check_build: true"         # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ ÑÐ±Ð¾Ñ€ÐºÑƒ
    "fail_on_build_failure: false" # ÐÐµ Ð¾Ñ‚Ð¼ÐµÐ½ÑÑ‚ÑŒ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¿Ñ€Ð¸ Ð½ÐµÑƒÐ´Ð°Ñ‡Ðµ ÑÐ±Ð¾Ñ€ÐºÐ¸
)

# ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
AUTO_FIXES=(
    "format_code: true"         # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´
    "fix_imports: true"         # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ñ‹
    "add_fixed_files: true"     # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚
)
EOF

log "ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð½: $CONFIG_FILE"

# Ð¨Ð°Ð³ 6: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ README Ð´Ð»Ñ hooks
log "Ð¨Ð°Ð³ 6: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ README Ð´Ð»Ñ hooks..."
README_FILE="docs/git-hooks-setup.md"

mkdir -p "docs"

cat > "$README_FILE" << 'EOF'
# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Git Hooks Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ ÐºÐ¾Ð´Ð°

## ðŸŽ¯ ÐžÐ±Ð·Ð¾Ñ€

Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ Git hooks Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð° Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ NutryFlow.

## ðŸ”§ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ…ÑƒÐºÐ¸

### 1. **pre-commit** - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð¼
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¾Ð²
- ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð° Ð½Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
- Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ±Ð¾Ñ€ÐºÐ¸

### 2. **pre-push** - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹
- Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð°
- Ð—Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… Ñ‚ÐµÑÑ‚Ð¾Ð²
- Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° push Ð¿Ñ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### 3. **commit-msg** - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð»Ð¸Ð½Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð° (conventional commits)
- Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸ÑŽ

### 4. **post-merge** - ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ
- ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
- ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ

## ðŸš€ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```bash
# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
chmod +x scripts/setup_git_hooks.sh
./scripts/setup_git_hooks.sh
```

### Ð ÑƒÑ‡Ð½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```bash
# Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ…ÑƒÐºÐ¸ Ð² .git/hooks/
cp scripts/pre-commit .git/hooks/
cp scripts/pre-commit .git/hooks/pre-push
chmod +x .git/hooks/*
```

## âš™ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ…ÑƒÐºÐ¾Ð² Ð½Ð°Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð² Ñ„Ð°Ð¹Ð»Ðµ `.git-hooks-config`:

```yaml
# Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ñ…ÑƒÐºÐ¸
ENABLED_HOOKS=(
    "pre-commit"
    "pre-push"
    "commit-msg"
    "post-merge"
)

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
ANALYSIS_SETTINGS=(
    "unused_import: error"
    "unused_element: error"
    "unused_field: error"
)
```

## ðŸ” Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

### ÐžÐ±Ñ‹Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°
Ð¥ÑƒÐºÐ¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ Git ÐºÐ¾Ð¼Ð°Ð½Ð´:

```bash
git add .
git commit -m "feat: add new feature"  # Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ pre-commit
git push origin main                    # Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ pre-push
```

### ÐŸÑ€Ð¾Ð¿ÑƒÑÐº Ñ…ÑƒÐºÐ¾Ð² (Ð½Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
```bash
git commit --no-verify -m "skip hooks"
git push --no-verify
```

## ðŸ› ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° IDE

### VS Code
Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² `settings.json`:

```json
{
    "dart.analysisServerFolding": true,
    "dart.analysisServerFoldingOutline": true,
    "dart.lineLength": 80,
    "dart.enableSdkFormatter": true,
    "dart.enableSdkFormatter": true
}
```

### Android Studio / IntelliJ
1. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Dart Analysis
2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Code Style
3. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Auto Import

## ðŸ“Š ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

### ÐžÑ‚Ñ‡ÐµÑ‚Ñ‹ Ð¾ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ
```bash
# ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð°
flutter analyze

# Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²
flutter test

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ñ
flutter test --coverage
```

### Ð›Ð¾Ð³Ð¸ Ñ…ÑƒÐºÐ¾Ð²
Ð¥ÑƒÐºÐ¸ Ð²Ñ‹Ð²Ð¾Ð´ÑÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ:
- âœ… Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸
- âš ï¸ ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ
- âŒ ÐžÑˆÐ¸Ð±ÐºÐ¸

## ðŸš¨ Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### Ð¥ÑƒÐº Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°: `chmod +x .git/hooks/*`
2. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ñ„Ð°Ð¹Ð» ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚: `ls -la .git/hooks/`
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ: `bash -n .git/hooks/pre-commit`

### Ð›Ð¾Ð¶Ð½Ñ‹Ðµ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð² `analysis_options.yaml`
2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `// ignore: rule_name` Ð´Ð»Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÐµÐ²
3. ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸

### ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
1. Ð˜ÑÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹

## ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ

Ð”Ð»Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ…ÑƒÐºÐ¾Ð²:

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹
git pull origin main

# ÐŸÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ñ…ÑƒÐºÐ¸
./scripts/setup_git_hooks.sh
```

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹

- [Git Hooks Documentation](https://git-scm.com/docs/githooks)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [Flutter Lints](https://dart.dev/tools/linter-rules)
- [Dart Analysis](https://dart.dev/guides/language/analysis-options)

## ðŸ¤ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ÐŸÑ€Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼:

1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ñ…ÑƒÐºÐ¾Ð²
2. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ð² ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
3. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
4. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ issue Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸

---

*Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½: $(date)*
EOF

log "README ÑÐ¾Ð·Ð´Ð°Ð½: $README_FILE"

# Ð¨Ð°Ð³ 7: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸
log "Ð¨Ð°Ð³ 7: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸..."
echo ""
echo "Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ…ÑƒÐºÐ¸:"
ls -la "$HOOKS_DIR" | grep -E "(pre-commit|pre-push|commit-msg|post-merge)"

# Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
echo ""
echo "=========================================================="
echo "ðŸŽ‰ Git hooks ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹!"
echo "=========================================================="
echo ""
echo "ðŸ“‹ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ…ÑƒÐºÐ¸:"
echo "  âœ… pre-commit    - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð¼"
echo "  âœ… pre-push      - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹"
echo "  âœ… commit-msg    - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²"
echo "  âœ… post-merge    - ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ð¾ÑÐ»Ðµ ÑÐ»Ð¸ÑÐ½Ð¸Ñ"
echo ""
echo "ðŸ“ Ð¤Ð°Ð¹Ð»Ñ‹:"
echo "  ðŸ“„ .git-hooks-config    - ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ…ÑƒÐºÐ¾Ð²"
echo "  ðŸ“„ docs/git-hooks-setup.md - Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ"
echo "  ðŸ“„ scripts/pre-commit   - Pre-commit Ñ…ÑƒÐº"
echo ""
echo "ðŸš€ Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ Ð±ÑƒÐ´ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:"
echo "  â€¢ Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ"
echo "  â€¢ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒÑÑ Ð½Ð° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾"
echo "  â€¢ ÐžÑ‡Ð¸Ñ‰Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°"
echo "  â€¢ Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ"
echo ""
echo "ðŸ’¡ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸:"
echo "  1. Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚: git commit -m 'test: test hooks'"
echo "  2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ñ…ÑƒÐºÐ¾Ð²"
echo "  3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ CI/CD pipeline"
echo "  4. Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ IDE"
echo ""
echo "Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ ÐºÐ¾Ð´Ð°! ðŸ§¹âœ¨"
